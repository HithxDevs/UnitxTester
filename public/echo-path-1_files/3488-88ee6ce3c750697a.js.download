"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3488],{1640:(e,t,a)=>{a.d(t,{Separator:()=>n});var r=a(54568),l=a(7297);a(7620);var s=a(11386);let n=e=>{let{className:t,orientation:a="horizontal",decorative:n=!0,...i}=e;return(0,r.jsx)(l.b,{"data-slot":"separator",decorative:n,orientation:a,className:(0,s.cn)("bg-fill-secondary shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...i})}},3476:(e,t,a)=>{a.d(t,{$A:()=>u,YL:()=>c,bj:()=>m});var r=a(54568),l=a(90060),s=a(7620),n=a(61938),i=a(25826);let o=i.Ay$.object({searchQuery:i.Ay$.string()}),d=(0,s.createContext)(null),c=e=>{let{children:t}=e,a=(0,n.mN)({resolver:(0,l.u)(o),defaultValues:{searchQuery:""}});return(0,r.jsx)(d.Provider,{value:{searchForm:a},children:t})},u=()=>{let e=(0,s.useContext)(d);if(!e)throw Error("useSearchContext must be used within a SearchProvider");return e},m=()=>{let{searchForm:e}=u();return(0,n.FH)({control:e.control,name:"searchQuery"})}},10987:(e,t,a)=>{a.d(t,{Spinner:()=>s});var r=a(54568);a(7620);var l=a(11386);let s=e=>{let{className:t=""}=e;return(0,r.jsx)("div",{className:"relative flex items-center justify-center",children:(0,r.jsx)("div",{className:(0,l.cn)("my-auto inline-block animate-spin self-center rounded-full border-2 border-solid border-current !border-r-transparent",t),role:"status"})})}},13146:(e,t,a)=>{a.d(t,{N:()=>i,l:()=>n});var r=a(54568),l=a(7620);let s=(0,l.createContext)(null),n=e=>{let{children:t,initialStack:a}=e,[n,i]=(0,l.useState)(()=>[...a]),o=n[n.length-1],d=n.length>1;return(0,r.jsx)(s.Provider,{value:{stack:n,push:e=>{i(t=>[...t,e])},pop:()=>{i(e=>e.slice(0,e.length-1))},currentScreen:o,hasMoreThanOneScreen:d},children:t})},i=()=>{let e=(0,l.useContext)(s);if(!e)throw Error("useStackNavigator must be used within a StackNavigatorProvider");return e}},16644:(e,t,a)=>{a.d(t,{kI:()=>k,ff:()=>N,oo:()=>w,aM:()=>y});var r=a(54568),l=a(71140),s=a(87552),n=a(54140),i=a(78767),o=a(67754),d=a(7620),c=a(30650),u=a(53513),m=a(90820),h=a(22360),x=a(53605),p=a(69472),g=a(27764);let v={Basic:{textColor:"#6E1D00",backgroundColor:"#EEDDCE"},Standard:{textColor:"#4D4D4D",backgroundColor:"#E0E0E0"},Professional:{textColor:"#535600",backgroundColor:"#FFF694"},Unlimited:{textColor:"#1F00A7",backgroundColor:"#E4E0FF"}},b=e=>{let{children:t,allowedPlans:a}=e,{setUpgradeModalParams:l}=(0,p.i)(),{activeStripePlanName:s}=(0,x.c)(),n=(0,g.N)(a,s),[i,b]=(0,d.useState)(!1);return(0,r.jsxs)(u.m_,{open:i&&!n,onOpenChange:b,children:[(0,r.jsx)(o.l9,{asChild:!0,onClickCapture:e=>{n||(e.stopPropagation(),e.preventDefault(),localStorage.setItem(h.C.ADD_TO_CART_CTA,m.J.PROD_MODEL_ITEM),l({isOpen:!0,upgradeablePlanNames:c.O$}))},children:t}),(0,r.jsx)(u.ZI,{children:(0,r.jsxs)("div",{className:"bg-fill-inverse flex flex-col items-start gap-y-1",children:[(0,r.jsx)("h5",{className:"text-label-sm text-content-primary-inverse",children:"This model is available on"}),(0,r.jsx)("div",{className:"flex items-center gap-x-1",children:null==a?void 0:a.map(e=>{var t,a;return(0,r.jsx)("span",{className:"text-label-xs rounded-1.5 bg-[var(--backgroundColor)] px-1 font-medium text-[var(--color)]",style:{"--backgroundColor":null==(t=v[e])?void 0:t.backgroundColor,"--color":null==(a=v[e])?void 0:a.textColor},children:e},e)})})]})})]})};var f=a(3476),j=a(81552);let y=e=>{let{config:t,modelCost:a}=e,n="outline-warning";return a<t.low?n="outline-success":a>t.high&&(n="outline-critical"),(0,r.jsxs)(s.E,{variant:n,children:[(0,r.jsx)(l.OB$,{className:"stroke-2"}),(0,r.jsx)("span",{children:a})]})},N=e=>{let{name:t,description:a,icon:n,isSelected:i,onClick:o,badges:d,allowedPlans:c=[]}=e,{activeStripePlanName:u}=(0,x.c)(),m=(0,g.N)(c,u);return(0,r.jsx)(b,{allowedPlans:c,children:(0,r.jsxs)("button",{value:"".concat(t),"data-state":i?"checked":"unchecked",className:"rounded-2 group/model-item bg-fill-primary hover:bg-fill-primary-hover data-[state=checked]:ring-content-primary flex aspect-square cursor-pointer flex-col items-stretch p-1.5 transition-all ring-inset data-[state=checked]:ring-[2.5px]",onClick:o,children:[(0,r.jsxs)("div",{className:"relative flex flex-1 flex-col items-center justify-center gap-[5px]",children:[!m&&(0,r.jsx)(s.E,{variant:"neutral-over-image",className:"absolute top-0 right-0 size-5 p-0",children:(0,r.jsx)(l.XAi,{className:"size-3.5"})}),(0,r.jsx)("div",{className:"flex flex-col items-center",children:(0,r.jsx)("div",{className:"text-content-primary **:[svg]:size-8",dangerouslySetInnerHTML:{__html:n}})}),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-0.5 text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center gap-1",children:(0,r.jsx)("span",{className:"text-label-md text-content-primary font-medium",children:t})}),(0,r.jsx)("p",{className:"text-content-secondary text-label-xs",children:a})]})]}),(0,r.jsx)("div",{className:"flex items-center gap-1",children:d})]})})},w=e=>{let{children:t,query:a,showEmpty:s}=e,{searchForm:n}=(0,f.$A)();return(0,r.jsxs)("div",{className:"flex size-full flex-col items-stretch gap-4 overflow-hidden",children:[(0,r.jsx)(i.p,{size:"lg",start:(0,r.jsx)(l.WIv,{className:"text-content-secondary stroke-[1.78]"}),placeholder:"Search",...n.register("searchQuery")}),s&&a?(0,r.jsxs)("div",{className:"col-span-full m-auto flex size-full flex-col items-center justify-center gap-1.5 text-center",children:[(0,r.jsx)("span",{className:"text-body-lg font-semibold",children:"Try a different search"}),(0,r.jsxs)("span",{className:"text-content-secondary",children:["No results for '",a,"'"]})]}):(0,r.jsx)(j.m,{children:(0,r.jsx)("div",{className:"grid grid-cols-[repeat(auto-fill,minmax(10.625rem,1fr))] gap-4",children:t})})]})},k=e=>{let{isOpen:t,icon:a,name:l,onClick:s}=e;return(0,r.jsxs)(n.$,{size:"sm",variant:"secondary",translateOnActive:!1,className:"max-w-50 gap-1.5",onClick:s,"data-state":t?"open":"closed",children:[(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:a}}),(0,r.jsx)("span",{className:"truncate",children:l})]})}},16800:(e,t,a)=>{a.d(t,{S:()=>i});var r=a(38237),l=a(27338),s=a(90416),n=a(14588);let i=()=>(0,r.U)({queryKey:[s.n.IMAGE_USER_ASSETS],queryFn:async()=>n.d.getAllImageUserAssets(),staleTime:l.HZ})},20870:(e,t,a)=>{a.d(t,{d:()=>n});var r=a(16258),l=a(81789),s=a(14588);let n=()=>(0,r.n)({mutationKey:[l.S.IMAGE_UPLOAD],mutationFn:async e=>s.d.uploadImageUserAsset(e)})},22554:(e,t,a)=>{a.d(t,{w:()=>r});let r=(e,t)=>{let a=[];for(let r=0;r<e.length;r+=t){let l=e.slice(r,r+t);for(;l.length<t;)l.push(null);a.push(l)}return a}},23263:(e,t,a)=>{a.d(t,{$d:()=>h,SJ:()=>m,Wd:()=>u,dn:()=>p,kc:()=>c,zE:()=>d});var r=a(54568),l=a(13146),s=a(71140),n=a(54140),i=a(98720),o=a(11386);let d=e=>{let{children:t,className:a}=e;return(0,r.jsx)(i.SheetContent,{side:"bottom",className:(0,o.cn)("rounded-t-4 flex h-[min(--spacing(198),calc(100dvh---spacing(58)))] flex-col items-stretch overflow-hidden",a),children:t})},c=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,o.cn)("tablet:px-6 flex flex-1 flex-col items-stretch gap-4 overflow-hidden px-4 pt-2",a),children:t})},u=()=>{let{currentScreen:e}=(0,l.N)();return null==e?void 0:e.component},m=e=>{let{name:t,description:a,onBackClick:l,canGoBack:d=!1,useCrossIcon:c=!1}=e;return(0,r.jsxs)(i.SheetHeader,{className:(0,o.cn)("bg-background sticky top-0 z-10 h-13 py-1.5 pr-6",{"tablet:pl-6 pl-4":!d,"pl-1.5":d}),children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[d&&(0,r.jsx)(n.$,{size:"icon-md",variant:"ghost",onClick:l,children:(0,r.jsx)(s.YJP,{className:"stroke-[1.8]"})}),(0,r.jsx)(i.SheetTitle,{children:t})]}),(0,r.jsx)(i.SheetDescription,{className:"sr-only",children:a}),(0,r.jsx)(i.SheetClose,{asChild:!0,children:c?(0,r.jsx)(n.$,{variant:"ghost",size:"icon-md",children:(0,r.jsx)(s.w0d,{})}):(0,r.jsx)(n.$,{variant:"link-primary",size:"link-sm",children:"Done"})})]})},h=()=>{let{currentScreen:e,hasMoreThanOneScreen:t}=(0,l.N)(),{pop:a}=(0,l.N)();return(0,r.jsx)(m,{name:null==e?void 0:e.name,description:"Configure your generation settings",onBackClick:a,canGoBack:t})},x=e=>{var t;let{children:a}=e,{currentScreen:s}=(0,l.N)();return(0,r.jsx)(d,{className:(0,o.cn)("h-100",null==s||null==(t=s.metadata)?void 0:t.className),children:a})},p=e=>{let{initialStack:t}=e;return(0,r.jsxs)(i.Sheet,{children:[(0,r.jsx)(i.SheetTrigger,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"secondary",size:"icon-md",className:"tablet:hidden",children:[(0,r.jsx)(s.Zes,{className:"stroke-[1.8]"}),(0,r.jsx)("span",{className:"sr-only",children:"Settings"})]})}),(0,r.jsx)(i.SheetTrigger,{asChild:!0,children:(0,r.jsxs)(n.$,{variant:"secondary",size:"sm",className:"tablet:inline-flex hidden",children:[(0,r.jsx)(s.Zes,{className:"stroke-[1.5]"}),(0,r.jsx)("span",{children:"Settings"})]})}),(0,r.jsx)(l.l,{initialStack:t,children:(0,r.jsxs)(x,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(u,{})]})})]})}},25970:(e,t,a)=>{a.d(t,{j7:()=>l,mQ:()=>n,qq:()=>i,rt:()=>s,y:()=>r});let r=async e=>{let{imageBlob:t,aspectRatio:a,format:r="png",quality:l=.9}=e,s=a.split(":");if(2!==s.length)throw Error('Invalid aspect ratio format. Expected format: "width:height"');let n=Number(s[0]),i=Number(s[1]);if(isNaN(n)||isNaN(i)||n<=0||i<=0)throw Error("Invalid aspect ratio values. Width and height must be positive numbers.");let o=n/i,d=new Image,c=URL.createObjectURL(t);return new Promise((e,t)=>{d.onload=()=>{try{let a,s,n,i;d.width/d.height>o?(s=d.height,a=d.height*o,n=(d.width-a)/2,i=0):(a=d.width,s=d.width/o,n=0,i=(d.height-s)/2);let u=document.createElement("canvas"),m=u.getContext("2d");if(!m)throw Error("Failed to get canvas context");u.width=a,u.height=s,m.drawImage(d,n,i,a,s,0,0,a,s),"png"===r?u.toBlob(a=>{a?e(a):t(Error("Failed to convert canvas to PNG blob"))},"image/png"):u.toBlob(a=>{a?e(a):t(Error("Failed to convert canvas to JPEG blob"))},"image/jpeg",l),URL.revokeObjectURL(c)}catch(e){URL.revokeObjectURL(c),t(e)}},d.onerror=()=>{URL.revokeObjectURL(c),t(Error("Failed to load image"))},d.src=c})},l=async e=>{let{format:t="jpeg",imgBlob:a,maxHeight:r=512,maxWidth:l=512,quality:s=.8}=e,n=new Image,i=URL.createObjectURL(a);return new Promise((e,a)=>{n.onload=()=>{try{let o=n.width,d=n.height;if(n.width>l||n.height>r){let e=n.width/n.height;n.width>n.height?(o=l,d=l/e):(d=r,o=r*e)}let c=document.createElement("canvas"),u=c.getContext("2d");if(!u)throw Error("Failed to get canvas context");c.width=o,c.height=d,u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(n,0,0,n.width,n.height,0,0,o,d),"png"===t?c.toBlob(t=>{t?e(t):a(Error("Failed to convert canvas to PNG blob"))},"image/png"):c.toBlob(t=>{t?e(t):a(Error("Failed to convert canvas to JPEG blob"))},"image/jpeg",s),URL.revokeObjectURL(i)}catch(e){URL.revokeObjectURL(i),a(e)}},n.onerror=()=>{URL.revokeObjectURL(i),a(Error("Failed to load image"))},n.src=i})},s=async e=>{let{imgBlob:t}=e,a=new Image,r=URL.createObjectURL(t);return new Promise((e,t)=>{a.onload=()=>{e({width:a.naturalWidth,height:a.naturalHeight})},a.onerror=()=>{t(Error("Failed to load image"))},a.src=r})},n=async e=>{let{imgBlob:t}=e,a=new Image,r=URL.createObjectURL(t);return new Promise((e,t)=>{a.onload=()=>{e({width:a.naturalWidth,height:a.naturalHeight})},a.onerror=()=>{t(Error("Failed to load image"))},a.src=r})},i=async e=>{let t=new Image;return new Promise((a,r)=>{t.onload=()=>{a(t.naturalWidth/t.naturalHeight)},t.onerror=()=>{r(Error("Failed to load image from URL"))},t.src=e})}},27764:(e,t,a)=>{a.d(t,{N:()=>r});let r=(e,t)=>!e||0===e.length||t&&e.includes(t)},38134:(e,t,a)=>{a.d(t,{O:()=>r});let r=(0,a(91326).v)((e,t)=>({loadingMap:{},initiateImageLoading:a=>e({loadingMap:{...t().loadingMap,[a]:!0}}),finishLoading:a=>{let r={...t().loadingMap};delete r[a],e({loadingMap:r})},getLoadingState:e=>{var a;return null!=(a=t().loadingMap[e])&&a}}))},44709:(e,t,a)=>{a.d(t,{A:()=>r});let r={IMAGE_PROMPT:2e3,VIDEO_PROMPT:2e3}},62369:(e,t,a)=>{a.d(t,{J$:()=>d,NT:()=>o,zR:()=>c});var r=a(54568),l=a(13146),s=a(71140),n=a(89536),i=a(11386);let o=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex flex-col gap-1",children:t})},d=e=>{let{children:t}=e;return(0,r.jsx)("span",{className:"text-content-tertiary text-label-md font-medium",children:t})},c=e=>{let{screen:t,label:a,icon:o}=e,{push:d}=(0,l.N)();return(0,r.jsxs)("button",{type:"button",className:(0,i.cn)((0,n.JX)({size:"lg",variant:"primary",className:"cursor-pointer"})),onClick:()=>d(t),children:[(0,r.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,r.jsx)("div",{className:"rounded-1 relative flex size-4 shrink-0 items-center justify-center overflow-hidden **:[svg]:size-4",children:o}),(0,r.jsx)("span",{children:a})]}),(0,r.jsx)(s.vKP,{className:"text-content-tertiary size-4"})]})}},63977:(e,t,a)=>{a.d(t,{q:()=>r});let r=e=>{let t="";if((null==e?void 0:e.length)===1){var a;t=null!=(a=e[0])?a:""}else t="".concat(null==e?void 0:e.slice(0,-1).join(", ")," or ").concat(null==e?void 0:e.slice(-1)[0]);return t}},64196:(e,t,a)=>{a.d(t,{lV:()=>i,zB:()=>d});var r=a(54568),l=a(7620),s=a(61938),n=a(615);a(11386),(0,n.F)("text-content-secondary text-label-md font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70");let i=s.Op,o=l.createContext({}),d=e=>{let{...t}=e;return(0,r.jsx)(o.Provider,{value:{name:t.name},children:(0,r.jsx)(s.xI,{...t})})}},65338:(e,t,a)=>{a.d(t,{w:()=>s});var r=a(54568),l=a(71140);let s=()=>(0,r.jsx)("div",{className:"ring-border-primary from-background to-fill-tertiary rounded-full bg-linear-180 p-0.5 ring-1 ring-inset",children:(0,r.jsx)(l.c11,{className:"text-content-primary"})})},68928:(e,t,a)=>{a.d(t,{I:()=>l});var r=a(13553);let l=()=>({closeAllDialogs:(0,r.j)(e=>e.closeAll)})},69190:(e,t,a)=>{a.d(t,{y:()=>f});var r=a(54568),l=a(61773),s=a(7620),n=a(12522),i=a(91572),o=a(71140),d=a(54140),c=a(75036),u=a(96578),m=a(52838),h=a(91260),x=a(16800);let p=e=>{let{onSelect:t,asset:a}=e,n=(0,m.X)(),[i,c]=(0,s.useState)(!1),{vagErrorHandler:x}=(0,h._)(),p=async()=>{if(await u.i.call({title:"Delete Image",description:"Are you sure you want to delete this image?",confirmButtonText:"Delete",cancelButtonText:"Cancel",variant:"error"})){c(!0);try{await n.mutateAsync({asset:a})}catch(e){x(e),c(!1)}}};return(0,r.jsxs)("div",{className:"item rounded-1 group/upload-item bg-surface-primary relative w-full overflow-hidden",style:{aspectRatio:"".concat(a.settings.metadata.width,"/").concat(a.settings.metadata.height)},children:[(0,r.jsx)(l.default,{src:a.url.thumbnail,alt:a.title,fill:!0,className:"object-cover object-center"}),(0,r.jsxs)("div",{className:"laptop:opacity-0 absolute inset-0 flex flex-col items-center justify-center transition-opacity duration-100 group-hover/upload-item:opacity-100",children:[(0,r.jsx)(d.$,{variant:"img-hover-cta",size:"icon-xs",className:"absolute top-2 right-2",onClick:p,disabled:i,children:(0,r.jsx)(o.ucK,{className:"stroke-[1.5]"})}),(0,r.jsx)(d.$,{variant:"img-hover-cta",size:"sm",onClick:()=>t(a.url.generation,a.url.thumbnail),children:"Select Image"})]})]})},g=e=>{let{onSelect:t}=e,{data:{data:{assets:a}}}=(0,x.S)();return 0===a.length?(0,r.jsx)("div",{className:"flex flex-col items-center justify-center gap-2 p-4",children:(0,r.jsx)("div",{className:"text-content-secondary text-body-md text-center",children:"No recent uploads"})}):(0,r.jsx)(i.i,{columnsCountBreakPoints:{375:2,768:3,1024:4},children:(0,r.jsx)(i.A,{style:{gap:"8px"},itemStyle:{gap:"8px"},children:a.map(e=>(0,r.jsx)(p,{asset:e,onSelect:t},e.uuid))})})},v=()=>(0,r.jsx)("div",{className:"tablet:grid-cols-3 laptop:grid-cols-4 grid grid-cols-2 gap-2",children:Array.from({length:10}).map((e,t)=>(0,r.jsx)(c.E,{className:"rounded-4 bg-surface-primary aspect-square w-full"},t))}),b=()=>(0,r.jsx)("div",{className:"flex flex-col items-center justify-center gap-2 p-4",children:(0,r.jsx)("div",{className:"text-content-secondary text-body-md text-center",children:"An error occurred while loading the recent uploads. Please try again later."})}),f=e=>{let{onSelect:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-stretch gap-2",children:[(0,r.jsx)("span",{className:"text-body-md text-content-primary font-semibold",children:"Recent Uploads"}),(0,r.jsx)(n.ErrorBoundary,{fallback:(0,r.jsx)(b,{}),children:(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)(v,{}),children:(0,r.jsx)(g,{onSelect:t})})})]})}},71524:(e,t,a)=>{a.d(t,{At:()=>v,Iq:()=>p,Ng:()=>N,ap:()=>b,d8:()=>j,gn:()=>g,iF:()=>f,j8:()=>k,jW:()=>w,w6:()=>y,x_:()=>x});var r=a(54568),l=a(49645),s=a(38879),n=a(7620),i=a(16269),o=a(71140),d=a(54140),c=a(1640),u=a(11386),m=a(81491);let h=(0,n.createContext)(null),x=e=>{let{children:t}=e,a=(0,n.useRef)(null),[l,s]=(0,n.useState)(!1),i=(0,n.useId)();return(0,r.jsx)(h.Provider,{value:{virtualRef:a,isGenerating:l,setIsGenerating:s,promptId:i},children:t})},p=()=>{let e=(0,n.useContext)(h);if(!e)throw Error("usePromptBoxContext must be used within a PromptBoxProvider");return e},g=e=>{let{children:t}=e,{virtualRef:a}=p();return(0,r.jsx)("div",{className:"ring-border-primary rounded-5 bg-fill-primary-variant group flex w-fit items-stretch justify-center gap-1 ring-1 drop-shadow-lg ring-inset",ref:a,children:t})},v=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"tablet:flex hidden w-34 shrink-0 flex-col items-stretch justify-end gap-2 py-3 pr-2 pl-3",children:t})},b=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,u.cn)("tablet:hidden absolute -top-15 left-3 z-20 flex w-28 flex-col items-stretch",a),children:t})},f=()=>(0,r.jsx)(c.Separator,{orientation:"vertical",className:"tablet:block hidden data-[orientation=vertical]:h-auto"}),j=e=>{let{children:t}=e,{promptId:a}=p();return(0,r.jsx)("label",{htmlFor:a,className:"tablet:gap-4 tablet:p-3 flex grow cursor-text flex-col gap-1 drop-shadow-lg",children:t})},y=e=>{let{className:t,onKeyDown:a,onEnterKeyMetaPress:l,onEnterKeyPress:s,...n}=e;return(0,r.jsx)("div",{className:"tablet:p-0 tablet:max-w-[calc(100vw-200px)] flex max-w-[calc(100vw-32px)] overflow-hidden px-3.5 py-2",children:(0,r.jsx)(i.A,{minRows:1,maxRows:10,onKeyDown:e=>{if("Enter"===e.key&&!e.shiftKey){e.metaKey&&"Enter"===e.key&&(null==l||l());let t=document.getElementById(m.G.CREATE_BUTTON);t&&t.click(),null==s||s(),e.preventDefault()}null==a||a(e)},className:(0,u.cn)("placeholder:text-content-tertiary text-content-primary text-body-sm group-hover:placeholder:text-content-secondary tablet:w-[min(--spacing(190),calc(100vw-200px))] tablet:min-w-100 laptop:min-w-182.5 mobile:min-w-70 mobile:w-[calc(100vw-32px)] mobile:resize max-h-48 min-h-7 w-[calc(100vw-32px)] resize-none py-1 transition-colors placeholder:transition-colors focus:outline-none",t),...n})})},N=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"tablet:p-0 flex items-end justify-between gap-3 p-3",children:t})},w=e=>{let{disabled:t,onClick:a,cost:l}=e,{isGenerating:s}=p();return(0,r.jsxs)(d.$,{variant:"ai",size:"icon-md",type:"submit",className:"tablet:h-17 tablet:w-35 tablet:rounded-4 laptop:w-45",disabled:s||t,id:m.G.CREATE_BUTTON,onClick:a,children:[(0,r.jsx)(o.Si6,{className:"tablet:hidden stroke-[1.44]"}),(0,r.jsx)("span",{className:"tablet:inline-block text-label-lg hidden",children:"Create"}),(0,r.jsxs)("div",{className:"tablet:flex hidden items-center justify-center",children:[(0,r.jsx)(o.not,{className:"size-4"}),(0,r.jsx)("span",{className:"text-label-lg",children:l})]})]})},k=e=>{let{children:t}=e;return(0,r.jsx)(l.N,{children:(0,r.jsx)(s.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeIn"},className:"laptop:bottom-8 pointer-events-none fixed inset-x-0 bottom-6 z-50 flex items-end justify-center",children:t})})}},72136:(e,t,a)=>{a.d(t,{I:()=>l});var r=a(54568);let l=e=>{let t,a,{aspectRatio:l="1:1",baseSize:s=18,stroke:n=1.5,padding:i=1}=e,[o=1,d=1]=l.split(":").map(Number),c=s-n;o>d?(t=c,a=d/o*c):(a=c,t=o/d*c);let u=(s-t)/2,m=(s-a)/2,h=n/2+i;return(0,r.jsx)("svg",{width:s,height:s,viewBox:"0 0 ".concat(s," ").concat(s),className:"flex shrink-0 grow-0 items-center justify-center",children:(0,r.jsx)("rect",{x:u,y:m,width:t,height:a,rx:h,ry:h,stroke:"currentColor",strokeWidth:n,fill:"none"})})}},73106:(e,t,a)=>{a.d(t,{HC:()=>p,f7:()=>v,hm:()=>x,i1:()=>g,sy:()=>f});var r=a(54568),l=a(67754),s=a(7620),n=a(5103),i=a(71140),o=a(54140),d=a(89536),c=a(16750),u=a(11386),m=a(53513);let h=s.createContext(null),x=e=>{let{children:t,value:a,onChange:l}=e,[s,i]=(0,n.iC)(a,void 0,l);return(0,r.jsx)(m.m_,{children:(0,r.jsx)(h,{value:{selected:s,setSelected:i},children:t})})},p=e=>{let{children:t,className:a,size:s="sm",variant:n="secondary",...i}=e;return(0,r.jsx)(o.$,{variant:n,size:s,translateOnActive:!1,className:a,...i,asChild:!0,children:(0,r.jsx)(l.l9,{type:"button",onClick:e=>e.preventDefault(),onPointerDown:e=>e.preventDefault(),children:t})})},g=e=>{let{className:t,children:a,onPointerDownOutside:s,...n}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsx)(l.UC,{"data-slot":"tooltip-content",className:(0,u.cn)((0,d.Kb)({variant:"secondary",className:"text-content-primary ring-border-elevated relative w-60 border-none ring-1 drop-shadow-sm"}),"animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),sideOffset:8,align:"start",onPointerDownOutside:e=>{e.preventDefault()},...n,children:(0,r.jsx)("div",{className:"scrollbar-none flex size-full flex-col overflow-y-auto",children:a})})})},v=e=>{let{children:t,className:a,...l}=e;return(0,r.jsx)("div",{className:(0,u.cn)((0,c.B)({variant:"secondary",sticky:!0}),a),...l,children:t})},b=()=>(0,r.jsx)("div",{className:"absolute right-2.5 hidden items-center justify-center group-data-[selected=true]:block",children:(0,r.jsx)(i.Srz,{className:"text-content-secondary"})}),f=e=>{let{className:t,value:a,children:l,...n}=e,{selected:i,setSelected:o}=(()=>{let e=(0,s.use)(h);if(!e)throw Error("useHoverSelectContext must be used within a HoverSelect");return e})();return(0,r.jsxs)("button",{type:"button",className:(0,u.cn)((0,d.OZ)({variant:"secondary",className:"group w-full"}),t),...n,onClick:()=>o(a),"data-selected":i===a,children:[l,(0,r.jsx)(b,{})]})}},76448:(e,t,a)=>{a.d(t,{bW:()=>x,dh:()=>h,s_:()=>m});var r=a(54568),l=a(68785),s=a(71140),n=a(87552),i=a(54140),o=a(1640),d=a(98720),c=a(11386),u=a(78848);let m=e=>{let{icon:t,title:a,isSelected:l,onSelect:i,badge:o}=e;return(0,r.jsxs)("button",{className:"group text-content-secondary disabled:text-content-primary-disabled rounded-2.5 hover:bg-fill-primary-variant-hover flex cursor-pointer items-center justify-between border border-transparent p-3.5 pl-2.5 transition-colors **:[svg]:size-5",onClick:i,children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"**:[svg]:size-5",dangerouslySetInnerHTML:{__html:t}}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-label-lg",children:a}),o&&(0,r.jsx)(n.E,{variant:"neutral-subtle",className:"capitalize",children:o})]})]}),l&&(0,r.jsx)(s.Srz,{className:"stroke-[1.5]"})]},a)},h=e=>{let{icon:t,label:a}=e;return(0,r.jsx)(d.SheetTrigger,{asChild:!0,children:(0,r.jsxs)(i.$,{variant:"outline",className:"tablet:hidden",children:[(0,r.jsx)("div",{children:t}),(0,r.jsx)(o.Separator,{orientation:"vertical",className:"min-h-3.5"}),(0,r.jsx)("span",{className:"truncate",children:a})]})})},x=e=>{let{icon:t,title:a,description:s,onSelect:i,canAcceptImages:o,isSelected:d,modelId:m,mode:h,feature:x}=e,p=null!=m,{setNodeRef:g,isOver:v,active:b}=(0,l.zM)({id:p?"".concat(h,"-").concat(m):h,disabled:!o,data:{modelId:m,mode:h,feature:x}}),f=(0,u.d)(),j=!!b&&f;return(0,r.jsxs)("button",{type:"button","data-active":d,"data-over":v,disabled:j&&!o,className:(0,c.cn)("rounded-3 flex flex-1/3 cursor-pointer flex-col gap-1 border border-transparent p-4 text-left transition-colors outline-none",{"hover:bg-fill-elevated/90 data-[active=true]:bg-fill-elevated/90 data-[active=true]:border-border-inverse data-[active=true]:drop-shadow-md data-[active=true]:backdrop-blur-[10px]":!j,"data-[over=true]:bg-surface-brand data-[over=true]:border-border-brand data-[over=true]:border-dashed":j,"pointer-events-none opacity-30":j&&!o}),onClick:i,ref:g,children:[(0,r.jsxs)("div",{className:"text-content-primary flex items-center gap-1",children:[(0,r.jsx)("div",{className:"**:[svg]:size-4",dangerouslySetInnerHTML:{__html:t}}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("div",{className:"text-label-md font-medium",children:a}),p&&(0,r.jsx)(n.E,{variant:"neutral-subtle",className:"capitalize",children:h})]})]}),(0,r.jsx)("div",{className:"text-label-sm text-content-secondary",children:s})]})}},78767:(e,t,a)=>{a.d(t,{p:()=>c});var r=a(54568),l=a(79649);a(7620);var s=a(11386),n=a(615);let i=(0,n.F)("flex w-full ring-1 ring-inset ring-transparent text-content-primary font-normal transition-all file:ring-0 file:bg-transparent file:text-label-sm file:font-medium placeholder:text-content-tertiary focus-visible:outline-none focus-visible:ring-border-inverse focus:ring-border-inverse disabled:cursor-not-allowed disabled:text-content-primary-disabled disabled:placeholder:text-content-primary-disabled disabled:ring-border-primary-disabled placeholder:transition-colors aria-[invalid=true]:ring-border-critical",{variants:{variant:{primary:"bg-fill-primary disabled:bg-fill-primary-disabled",secondary:"bg-fill-secondary disabled:bg-fill-secondary-disabled","secondary-variant":"bg-fill-secondary-variant disabled:bg-fill-secondary-variant-disabled",none:""},size:{sm:"px-2.5 py-1 rounded-2.5 text-label-sm group-data-[input-start=true]:ps-7 group-data-[input-end=true]:pe-7",md:"px-2.5 py-1.5 rounded-2.5 text-label-md group-data-[input-start=true]:ps-7.5 group-data-[input-end=true]:pe-7.5",lg:"px-3.5 py-2.5 rounded-3 text-label-lg group-data-[input-start=true]:ps-10 group-data-[input-end=true]:pe-10",xl:"px-3.5 py-3 rounded-3.5 text-label-xl group-data-[input-start=true]:ps-10.5 group-data-[input-end=true]:pe-10.5"}},defaultVariants:{variant:"primary",size:"md"}}),o=(0,n.F)("absolute text-content-secondary inset-y-0 my-auto transition-all aria-[disabled=true]:text-content-primary-disabled aria-[disabled=true]:cursor-not-allowed",{variants:{size:{sm:"size-3.5 data-[slot=input-start]:start-2.5 data-[slot=input-end]:end-2.5",md:"size-4 data-[slot=input-start]:start-2.5 data-[slot=input-end]:end-2.5",lg:"size-4.5 data-[slot=input-start]:start-3.5 data-[slot=input-end]:end-3.5",xl:"size-5 data-[slot=input-start]:start-3.5 data-[slot=input-end]:end-3.5"}},defaultVariants:{size:"md"}}),d=e=>{let{className:t,type:a,size:l,variant:n,...o}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:(0,s.cn)(i({className:t,size:l,variant:n})),...o})},c=e=>{let{wrapperClassName:t,start:a,end:n,...i}=e;return a||n?(0,r.jsxs)("div",{className:(0,s.cn)("group relative w-full",t),"data-input-start":!!a,"data-input-end":!!n,children:[a&&(0,r.jsx)(l.DX,{"data-slot":"input-start","aria-disabled":i.disabled,className:o({size:i.size}),children:a}),(0,r.jsx)(d,{...i}),n&&(0,r.jsx)(l.DX,{"data-slot":"input-end","aria-disabled":i.disabled,className:o({size:i.size}),children:n})]}):(0,r.jsx)(d,{...i})}},80498:(e,t,a)=>{a.d(t,{AM:()=>n,dT:()=>o,hl:()=>d});var r=a(54568),l=a(38360);a(7620),a(71140);var s=a(11386);a(54140);let n=e=>(0,r.jsx)(l.bL,{"data-slot":"popover",...e}),i=e=>(0,r.jsx)(l.ZL,{"data-slot":"popover-portal",...e}),o=e=>(0,r.jsx)(l.Mz,{"data-slot":"popover-anchor",...e}),d=e=>{let{className:t,align:a="center",sideOffset:n=4,...o}=e;return(0,r.jsx)(i,{children:(0,r.jsx)(l.UC,{"data-slot":"popover-content",align:a,sideOffset:n,className:(0,s.cn)("bg-background ring-border-primary data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 rounded-1.5 z-50 origin-[--radix-popover-content-transform-origin] ring-1 drop-shadow-sm outline-none",t),...o})})}},81552:(e,t,a)=>{a.d(t,{m:()=>s});var r=a(54568),l=a(11386);let s=e=>{let{children:t,className:a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("scrollbar-none flex size-full flex-col overflow-y-scroll pb-6",a),children:t})}},88988:(e,t,a)=>{a.d(t,{N:()=>l});var r=a(13553);let l=()=>({closeAllDialogsExcept:(0,r.j)(e=>e.closeAllExcept)})},90807:(e,t,a)=>{a.d(t,{b0:()=>h,jf:()=>m,wE:()=>u});var r=a(54568),l=a(61773),s=a(71140),n=a(54140),i=a(78767),o=a(11386),d=a(3476),c=a(81552);let u=e=>{var t,a,i;let{isOpen:o,onClick:d,preset:c,style:u}=e;return(0,r.jsx)(n.$,{size:"none",variant:"none",type:"button","data-state":o?"open":"closed",className:"group rounded-3 border-border-primary bg-fill-primary tablet:h-17 tablet:w-35 laptop:w-37.5 tablet:rounded-4 tablet:justify-center data-[state=open]:border-content-primary relative h-10 w-17 shrink-0 cursor-pointer justify-start overflow-hidden border disabled:cursor-not-allowed disabled:opacity-30",onClick:d,style:u,children:(0,r.jsxs)("div",{className:"rounded-3 tablet:rounded-4 group-data-[state=open]:rounded-2.5 tablet:group-data-[state=open]:rounded-3.5 inset-0 overflow-hidden transition-all group-data-[state=open]:inset-0.5",children:[c&&((null==c?void 0:c.sd)?(0,r.jsx)("video",{src:null==c?void 0:c.sd,className:"size-full object-cover object-center",poster:null!=(t=c.thumbnailPreset)?t:c.thumbnail,muted:!0,autoPlay:!0,loop:!0,playsInline:!0}):(0,r.jsx)(l.default,{fill:!0,src:null!=(a=c.thumbnailPreset)?a:c.thumbnail,alt:c.name,className:"object-cover object-center"})),(0,r.jsx)("div",{className:"bg-neutral-black/0 tablet:h-9 tablet:top-auto tablet:bg-linear-180 tablet:from-neutral-black/0 tablet:to-neutral-black/100 absolute inset-0"}),(0,r.jsx)(n.$,{variant:"img-hover-cta",size:"icon-xs",className:"tablet:hidden absolute inset-y-0 left-[3px] my-auto focus-visible:ring-0",asChild:!0,children:(0,r.jsx)("div",{children:(0,r.jsx)(s.BZI,{})})}),(0,r.jsx)("div",{className:"tablet:flex absolute inset-0 hidden items-end justify-center overflow-hidden pb-1.5",children:(0,r.jsx)("span",{className:"text-neutral-white text-label-xs font-bold whitespace-break-spaces uppercase",children:null!=(i=null==c?void 0:c.name)?i:"Select Preset"})})]})})},m=e=>{let{name:t,thumbnail:a,video:s,isSelected:n=!1,onClick:i,className:d,style:c}=e;return(0,r.jsx)("button",{"data-state":n?"checked":"unchecked",className:(0,o.cn)("rounded-2.5 group bg-fill-primary hover:bg-fill-primary-hover data-[state=checked]:ring-content-primary relative flex aspect-square cursor-pointer flex-col items-stretch overflow-hidden transition-all ring-inset data-[state=checked]:ring-[2.5px]",d),onClick:i,style:c,children:(0,r.jsxs)("div",{className:"rounded-2.5 group-data-[state=checked]:rounded-2 absolute inset-0 overflow-hidden transition-all group-data-[state=checked]:inset-1.5",children:[s?(0,r.jsx)("video",{src:s,className:"size-full object-cover object-center",poster:a,muted:!0,autoPlay:!0,loop:!0,playsInline:!0}):(0,r.jsx)(l.default,{src:a,alt:t,fill:!0,className:"size-full object-cover object-center"}),(0,r.jsx)("div",{className:"from-neutral-black/0 to-neutral-black/80 absolute inset-0 flex items-end justify-center bg-linear-180 from-70% p-3",children:(0,r.jsx)("span",{className:"text-content-fixed-inverse text-label-lg font-medium",children:t})})]})})},h=e=>{let{children:t}=e,{searchForm:a}=(0,d.$A)();return(0,r.jsxs)("div",{className:"flex size-full flex-col items-stretch gap-4 overflow-hidden",children:[(0,r.jsx)("div",{className:"tablet:flex-row-reverse flex shrink-0 flex-col items-stretch gap-4 overflow-hidden",children:(0,r.jsx)("div",{className:"w-full shrink-0",children:(0,r.jsx)(i.p,{size:"lg",start:(0,r.jsx)(s.WIv,{className:"text-content-secondary stroke-[1.78]"}),placeholder:"Search",...a.register("searchQuery")})})}),(0,r.jsx)(c.m,{children:t})]})}},98720:(e,t,a)=>{a.r(t),a.d(t,{Sheet:()=>d,SheetClose:()=>u,SheetCloseButton:()=>v,SheetContent:()=>p,SheetDescription:()=>j,SheetFooter:()=>b,SheetHeader:()=>g,SheetTitle:()=>f,SheetTrigger:()=>c});var r=a(54568),l=a(25173),s=a(615);a(7620);var n=a(71140),i=a(11386),o=a(54140);let d=e=>{let{...t}=e;return(0,r.jsx)(l.bL,{"data-slot":"sheet",...t})},c=e=>{let{...t}=e;return(0,r.jsx)(l.l9,{"data-slot":"sheet-trigger",...t})},u=e=>{let{...t}=e;return(0,r.jsx)(l.bm,{"data-slot":"sheet-close",...t})},m=e=>{let{...t}=e;return(0,r.jsx)(l.ZL,{"data-slot":"sheet-portal",...t})},h=e=>{let{className:t,...a}=e;return(0,r.jsx)(l.hJ,{"data-slot":"sheet-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-overlay fixed inset-0 z-50",t),...a})},x=(0,s.F)("fixed z-50 gap-4 outline-none bg-background drop-shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),p=e=>{let{className:t,children:a,side:s="right",...n}=e;return(0,r.jsxs)(m,{children:[(0,r.jsx)(h,{}),(0,r.jsx)(l.UC,{"data-slot":"sheet-content",className:(0,i.cn)(x({side:s}),t),...n,children:a})]})},g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"sheet-header",className:(0,i.cn)("flex items-center justify-between gap-2",t),...a})},v=e=>{let{className:t,...a}=e;return(0,r.jsx)(u,{asChild:!0,children:(0,r.jsx)(o.$,{className:t,variant:"ghost",size:"icon-xs",...a,children:(0,r.jsx)(n.w0d,{})})})},b=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"sheet-footer",className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})},f=e=>{let{className:t,...a}=e;return(0,r.jsx)(l.hE,{"data-slot":"sheet-title",className:(0,i.cn)("text-content-primary text-label-lg font-semibold",t),...a})},j=e=>{let{className:t,...a}=e;return(0,r.jsx)(l.VY,{"data-slot":"sheet-description",className:(0,i.cn)("text-body-sm",t),...a})}},98805:(e,t,a)=>{a.d(t,{KZ:()=>p,kX:()=>h,vF:()=>x});var r=a(54568),l=a(93343),s=a(49645),n=a(38879),i=a(7620),o=a(71140),d=a(54140),c=a(80498),u=a(11386),m=a(71524);let h=e=>{let{name:t,closePopover:a}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 pr-3 pl-4",children:[(0,r.jsx)("span",{className:"text-body-md text-content-primary font-semibold",children:t}),(0,r.jsx)(d.$,{variant:"ghost",size:"icon-xs",onClick:a,children:(0,r.jsx)(o.w0d,{})})]})},x=e=>{let{children:t,open:a,onOpenChange:o}=e,{virtualRef:d}=(0,m.Iq)(),u=(0,i.useCallback)(()=>{o(!1)},[o]);return(0,i.useEffect)(()=>{if(a){let e=e=>{"Escape"===e.key&&u()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}},[a,u]),(0,r.jsxs)(c.AM,{open:a,children:[(0,r.jsx)(c.dT,{virtualRef:d}),t,(0,r.jsx)(l.Z,{children:(0,r.jsx)(s.N,{children:a&&(0,r.jsx)(n.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.15},className:"bg-surface-primary-variant/60 fixed inset-0 backdrop-blur-[25px]",role:"button",onClick:u,tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&u()},"aria-label":"Popover overlay"})})})]})},p=e=>{let{children:t,className:a}=e;return(0,r.jsx)(c.hl,{className:(0,u.cn)("rounded-4 group flex h-[min(var(--settings-popover-height,--spacing(178.5)),calc(100vh-var(--misc-padding-and-navbar-height)-var(--radix-popper-anchor-height)))] w-(--radix-popper-anchor-width) flex-col items-stretch overflow-hidden [--misc-padding-and-navbar-height:--spacing(30)] focus:outline-none",a),side:"top",sideOffset:16,children:t})}}}]);