"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7056],{19603:(e,t,a)=>{a.d(t,{s:()=>l});var r=a(54568),s=a(81603);let l=e=>{let{children:t}=e;return(0,r.jsx)(s.s6,{children:t})}},33029:(e,t,a)=>{a.d(t,{Cf:()=>_,De:()=>m,Es:()=>g,HM:()=>c,L3:()=>p,R4:()=>A,ZJ:()=>d,c7:()=>f,lG:()=>i,rr:()=>b});var r=a(54568),s=a(25173);a(7620);var l=a(71140),n=a(11386),o=a(54140);let i=e=>{let{...t}=e;return(0,r.jsx)(s.bL,{"data-slot":"dialog",...t})},d=e=>{let{...t}=e;return(0,r.jsx)(s.ZL,{"data-slot":"dialog-portal",...t})},c=e=>{let{...t}=e;return(0,r.jsx)(s.bm,{"data-slot":"dialog-close",...t})},u=e=>{let{className:t,...a}=e;return(0,r.jsx)(s.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 bg-overlay fixed inset-0 z-50",t),...a})},m=e=>{let{btnProps:t={},iconClassname:a,...i}=e,{className:d,variant:c="ghost",size:u="icon-xs",...m}=t;return(0,r.jsx)(o.$,{type:"button",variant:c,size:u,className:d,asChild:!0,...m,children:(0,r.jsxs)(s.bm,{...i,children:[(0,r.jsx)(l.w0d,{className:(0,n.cn)("size-4 stroke-[1.5]",a)}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})})},A=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("flex h-full flex-1 flex-col gap-1 self-stretch",t),...a})},_=e=>{let{className:t,children:a,overlayProps:l,...o}=e;return(0,r.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,r.jsx)(u,{...l}),(0,r.jsx)(s.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background ring-border-primary data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 rounded-4 fixed top-1/2 left-1/2 z-50 grid w-full -translate-x-1/2 -translate-y-1/2 gap-4 border-none ring-1 drop-shadow-sm transition-all duration-100 outline-none",t),...o,children:a})]})},f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("border-border-primary flex items-center justify-between self-stretch border-b p-4",t),...a})},g=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("border-border-primary flex items-center justify-end self-stretch border-t",t),...a})},p=e=>{let{className:t,...a}=e;return(0,r.jsx)(s.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-label-lg text-content-primary font-semibold",t),...a})},b=e=>{let{className:t,...a}=e;return(0,r.jsx)(s.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-label-md text-content-secondary",t),...a})}},42203:(e,t,a)=>{a.d(t,{A4:()=>_,U:()=>f});var r=a(25826),s=a(59051),l=a(59727),n=a(21520),o=a(98357),i=a(20364),d=a(49863),c=a(75037);let u=r.Ay$.object({width:r.Ay$.number().default(512),height:r.Ay$.number().default(512)}),m=r.Ay$.object({file_ext:r.Ay$.string(),ref_service:r.Ay$.string(),thumbnail_ext:r.Ay$.string(),title:r.Ay$.string(),metadata:c.p}),A=r.Ay$.object({generation:n.aB,thumbnail:n.aB});r.Ay$.enum([o.X.ASSETS_UPLOAD]),r.Ay$.enum([l.A.IMAGE_USER_UPLOAD]);let _=e=>{let t=(0,s.b)(A,e.url),a=(0,s.b)(m,e.settings),r=(e=>({generation:(0,d._)(e.generation),thumbnail:(0,d._)(e.thumbnail)}))(t),n=(e=>{let t=(0,s.b)(u,JSON.parse(e.metadata),{width:512,height:512});return{fileExt:e.file_ext,refService:e.ref_service,thumbnailExt:e.thumbnail_ext,title:e.title,metadata:t}})(a);return{...e,settings:n,url:r,tag:l.A.IMAGE_USER_UPLOAD,service:i.z1.USER,endpoint:o.X.ASSETS_UPLOAD,refService:i.z1.IMAGE}},f=e=>({assets:e.assets.map(e=>{try{return _(e)}catch(e){return null}}).filter(e=>null!=e)})},61744:(e,t,a)=>{a.d(t,{K:()=>s,u:()=>l});var r=a(25826);let s={CREATE:"create",STYLE_REFERENCE:"styleReference",EDIT:"edit",IMAGE_PROMPT:"imagePrompt"},l=r.Ay$.enum(s)},74342:(e,t,a)=>{a.d(t,{h:()=>s});var r=a(14359);class s extends r.e{constructor(e){super(e)}}},82832:(e,t,a)=>{a.d(t,{P:()=>s});var r=a(14359);class s extends r.e{constructor(e){super(e)}}},91260:(e,t,a)=>{a.d(t,{_:()=>y});var r=a(54568),s=a(44089),l=a(7620),n=a(51874),o=a(27338),i=a(71140),d=a(57594),c=a(70727),u=a(12753),m=a(48551),A=a(90820),_=a(22360),f=a(74342),g=a(82832),p=a(79920),b=a(53605),h=a(54140),C=a(83922),x=a(41009),O=a(62384),T=a(30650),E=a(69472);let R=()=>{let[,e]=(0,C.ZA)(O.u.TOP_UP_MODAL_OPEN,C.cr),{isSubscriptionActive:t,isSubscribedToUnlimitedPlan:a}=(0,b.c)(),{setUpgradeModalParams:r}=(0,E.i)();return{handleModalOpen:(0,l.useCallback)(()=>{t&&a?e(!0):r({title:T.I8.INSUFFICIENT_TOKENS,upgradeablePlanNames:T.O$,isOpen:!0})},[t,a,e,r]),textToShow:t&&a?"Buy ".concat(x.q.PLURAL):"Upgrade"}},N=()=>{let{handleModalOpen:e,textToShow:t}=R();return(0,r.jsx)(h.$,{size:"sm",onClick:e,children:t})},y=()=>{let{isSubscriptionActive:e}=(0,b.c)(),{handleLogout:t}=(0,p.O)(),{handleModalOpen:a}=R(),C=(()=>{let{activeStripePlanName:e}=(0,b.c)(),{setUpgradeModalParams:t,isOpen:a}=(0,E.i)(),s="Unlimited"===e,o=(0,l.useCallback)(()=>{s||a||t({isOpen:!0,upgradeablePlanNames:T.O$})},[s,t,a]);return(0,l.useCallback)(e=>{n.oR.error(e,{action:s?null:(0,r.jsx)(h.$,{onClick:o,children:"Upgrade"}),onAutoClose:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.CONCURRENT_GENERATION_AUTO),o()},onDismiss:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.CONCURRENT_GENERATION),o()}})},[o,s])})(),x=(()=>{let{setUpgradeModalParams:e,isOpen:t}=(0,E.i)(),a=(0,l.useCallback)(()=>{t||e({isOpen:!0,upgradeablePlanNames:T.O$})},[e,t]);return(0,l.useCallback)(e=>{n.oR.warning(e.message,{action:(0,r.jsx)(h.$,{size:"sm",onClick:a,children:"Upgrade"}),onDismiss:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.PROD_MODEL_MODAL),a()},onAutoClose:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.PROD_MODEL_MODAL_AUTO),a()}})},[a])})(),O=(0,l.useCallback)(l=>{if(l instanceof c.U){let s=l.data[0];if(!s)return;let{message:c}=s;l instanceof d.WK?(n.oR.error("Session expired"),t()):l instanceof m.M8?n.oR.warning(e?"Insufficient credits":"Insufficient credits. Credits replenish every ".concat(o.oz," hours."),{icon:(0,r.jsx)(i.X9T,{}),action:(0,r.jsx)(N,{}),onAutoClose:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.INSUFFICIENT_TOKEN_AUTO),a()},onDismiss:()=>{localStorage.setItem(_.C.ADD_TO_CART_CTA,A.J.INSUFFICIENT_TOKEN),a()}}):l instanceof m.X5?n.oR.error(s.message||"Sent request in invalid."):l instanceof u.lh?n.oR.error("Model deleted by user"):l instanceof m.Ll?n.oR.error("Sorry, the AI Moderator is unsure about this prompt"):l instanceof u.B_?n.oR.error("Service is temporarily unavailable, please try again later"):n.oR.error(c||"Failed to process request")}else l instanceof f.h?C(l.message):l instanceof g.P?x(l):l instanceof Error?n.oR.error(l.message):l instanceof s.pe?n.oR.error("An error occurred while processing your request"):n.oR.error("Processing failed")},[C,t,a,e,x]);return(0,l.useMemo)(()=>({vagErrorHandler:O}),[O])}},96450:(e,t,a)=>{a.d(t,{Q:()=>s});var r=a(7620);let s=e=>{let t=(0,r.useRef)(e);return t.current=e,t}}}]);