"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8418],{178:(e,t,a)=>{a.d(t,{e:()=>n});let n={AFFILIATE_ID:"affiliate_id",LANDING_SOURCE:"landing_source",FIRST_PAGE_VIEW:"first_page_view",SIGN_UP_CTA:"sign_up_cta",COUNTRY_CODE:"countryCode",COUNTRY_OVERRIDE:"countryOverride",REFUND_NOTIFICATION_EXPIRES_AT:"refundNotificationExpiresAt"}},17307:(e,t,a)=>{a.d(t,{y:()=>n});class n{}},17643:(e,t,a)=>{a.d(t,{h:()=>i});var n=a(21929),r=a(79536);let i=(0,n.w)({client:{NEXT_PUBLIC_APP_URL:r.Yj(),NEXT_PUBLIC_APP_DOMAIN:r.Yj(),NEXT_PUBLIC_AUTH_API_URL:r.Yj(),NEXT_PUBLIC_REALTIME_API_URL:r.Yj(),NEXT_PUBLIC_VYRO_AUTH_URL:r.Yj(),NEXT_PUBLIC_ANPU_API_URL:r.Yj(),NEXT_PUBLIC_PAYMENT_API_URL:r.Yj(),NEXT_PUBLIC_IS_PROD:r.Yj().transform(e=>"true"===e),NEXT_PUBLIC_PROFILE_IMAGE_CDN:r.Yj(),NEXT_PUBLIC_ASSETS_CDN_BASE_URL:r.Yj(),NEXT_PUBLIC_ASYNC_BUCKET_URL:r.Yj(),NEXT_PUBLIC_FLAGS_API_URL:r.Yj(),NEXT_PUBLIC_GOOGLE_CLIENT_ID:r.Yj(),NEXT_PUBLIC_FACEBOOK_APP_ID:r.Yj(),NEXT_PUBLIC_APP_NAME_FOR_AUTH:r.Yj(),NEXT_PUBLIC_CHATBASE_CHATBOT_ID:r.Yj(),NEXT_PUBLIC_CHATBASE_API_URL:r.Yj(),NEXT_PUBLIC_GTM_ID:r.Yj()},runtimeEnv:{NEXT_PUBLIC_APP_URL:"https://www.imagine.art",NEXT_PUBLIC_APP_DOMAIN:".imagine.art",NEXT_PUBLIC_AUTH_API_URL:"https://auth.vyro.ai/apis/v1",NEXT_PUBLIC_REALTIME_API_URL:"wss://realtime.vyro.ai/connection/websocket",NEXT_PUBLIC_VYRO_AUTH_URL:"https://accounts.vyro.ai/auth",NEXT_PUBLIC_ANPU_API_URL:"https://imagine.vyro.ai/v1",NEXT_PUBLIC_PAYMENT_API_URL:"https://payment-gateway.vyro.ai/apis/v1",NEXT_PUBLIC_IS_PROD:"true",NEXT_PUBLIC_PROFILE_IMAGE_CDN:"https://profile-image.cdn.imagine.art/profile-image",NEXT_PUBLIC_ASSETS_CDN_BASE_URL:"https://cdn.web.imagine.art",NEXT_PUBLIC_ASYNC_BUCKET_URL:"https://cdn.imagine.art",NEXT_PUBLIC_FLAGS_API_URL:"https://flags.vyro.ai/apis/v1",NEXT_PUBLIC_GOOGLE_CLIENT_ID:"889665446297-co8b60jqfbonsbv006quoq3uhcmfah94.apps.googleusercontent.com",NEXT_PUBLIC_FACEBOOK_APP_ID:"873040353831396",NEXT_PUBLIC_APP_NAME_FOR_AUTH:"imagine",NEXT_PUBLIC_CHATBASE_CHATBOT_ID:"djryHL-DnkZYAVNWmywGB",NEXT_PUBLIC_CHATBASE_API_URL:"https://www.chatbase.co/api/v1",NEXT_PUBLIC_GTM_ID:"GTM-WNBR3NM"}})},18010:(e,t,a)=>{a.d(t,{M:()=>_});var n=a(36979);class r{get id(){return this._id}get name(){return this._name}get properties(){return this._properties}withProperties(e){let t=Object.keys({...this._properties,...e}).reduce((t,a)=>{let n={...this._properties,...e}[a];return null!=n&&""!==n&&(t[a]=n),t},{});return new r(this._name,t,this._id)}extractProperties(e){let t=e.reduce((e,t)=>(null!==this._properties[t]&&void 0!==this._properties[t]&&""!==this._properties[t]&&(e[t]=this._properties[t]),e),{});return new r(this._name,t,this._id)}appendKey(e){let t=Object.entries(this._properties).reduce((t,a)=>{let[n,r]=a;return t["".concat(n).concat(e)]=r,t},{});return new r(this._name,t,this._id)}match(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];for(let{event:e,callback:a}of t)if(this.id===e.id)return void a(this)}constructor(e,t,a){this._name=e,this._properties=t,this._id=null!=a?a:(0,n.A)()}}var i=a(22282);let _={pageView:new r("page_view",{page_name:"",source:"",user_account_status:"Free",user_plan:"",user_plan_period:""}),sessionStarted:new r("session_started",{utm_campaign:i.Q,utm_term:i.Q,utm_medium:i.Q,utm_source:i.Q,page_name:""}),logoutCompleted:new r("logout_completed",{}),signupCompleted:new r("signup_completed",{signup_channel:"",name:"",email:"",mode:"",marketing_consent:!1,distinct_id:"",tokens_remaining:0,utm_campaign:"",utm_term:"",utm_medium:"",utm_source:"",signup_cta:"",page_name:"",affiliate_id:"",first_page_view:"",user_account_status:"Free",user_plan:"",user_plan_period:"",first_name:"",landing_source:"",is_referred:"",tool_name:"",app_name:"",studio_name:""}),loginCompleted:new r("login_completed",{mode:"",signup_channel:"",page_name:"",user_account_status:"",user_plan:"",user_plan_period:"",email:"",revenue_till_date:0,distinct_id:"",first_name:"",name:"",app_name:"",tool_name:"",studio_name:""}),addToCart:new r("add_to_cart",{amount:0,currency:"",user_plan:"Free",user_plan_period:"Free",tokens_amount:0,signup_channel:"",page_name:"",source:"",email:"",distinct_id:"",utm_campaign:"",utm_term:"",atc_cta_source:"",user_account_status:"Free",plan_clicked:"",plan_period_clicked:"",app_name:"",tool_name:"",studio_name:""}),purchase:new r("purchase",{amount:0,currency:"",user_plan:"",user_plan_period:"",tokens_amount:0,payment_method:"",payment_status:"",signup_channel:"",billing_cycle:"",page_name:"",email:"",tokens_remaining:0,distinct_id:"",renewal_status:!1,topup_purchased:!1,utm_campaign:"",utm_term:"",utm_medium:"",utm_source:"",affiliate_id:"",user_account_status:"Free",Payment_status:"",amount_charged:0,coupon:"",discount_percentage:0,landing_source:"",app_name:"",tool_name:"",studio_name:""}),imageGenerationOne:new r("image_generation_one",{upload_image:!1,upload_type:"",aspect_ratio:"",number_of_images:0,model_used:"",presets:"",image_mode:"",prompt_text:"",prompt_text_2:"",prompt_text_3:"",upscale_used:!1,variate_used:!1,inspiration_used:!1,recreate:!1,page_name:"",source:"",processing_status:"",processing_error:"",tokens_remaining:0,tokens_consumed:0,user_account_status:"Free",user_plan:"",user_plan_period:"",distinct_id:"",email:""}),videoGenerationOne:new r("video_generation_one",{upload_image:!1,generation_source:"",upload_type:"",end_frame_added:!1,aspect_ratio:"",model_used:"",presets:"",video_mode:"",video_duration:-1,video_resolution:"",prompt_text:"",prompt_text_2:"",prompt_text_3:"",inspiration_used:!1,recreate:!1,page_name:"",source:"",processing_status:"",processing_error:"",tokens_remaining:0,tokens_consumed:0,email:"",user_account_status:"",user_plan:"",user_plan_period:"",distinct_id:""}),onboardingSurvey:new r("onboarding_survey",{user_persona:"",initial_goal:"",cadence:"",media_type:"",members:"",app_name:"",studio_name:"",email:"",distinct_id:""}),export:new r("export",{source:"",file_type:"",file_size:"",session_images_export:0,export_all:!1,page_name:"",user_account_status:"",user_plan:"",user_plan_period:"",email:"",total_images_exported:0,tokens_remaining:0,distinct_id:"",trigger:"",feature:"",app_name:"",model_used:"",prompt_text:"",prompt_text_2:"",prompt_text_3:"",tool_name:"",gen_till_export:0,studio_name:""})}},22282:(e,t,a)=>{a.d(t,{Q:()=>n});let n="None"},22360:(e,t,a)=>{a.d(t,{C:()=>n});let n={ADD_TO_CART_CTA:"addToCartCta",AUTH_TOOL:"auth_tool",AUTH_SOURCE:"auth_source",ADD_TO_CART_TOOL:"addToCartTool",GEN_TILL_EXPORT:"gen_till_export",TOKENS_CONSUMED:"tokens_consumed"}},27338:(e,t,a)=>{a.d(t,{HZ:()=>r,K2:()=>i,f:()=>n,oz:()=>_});let n=6048e5,r=36e5,i=3e5,_=12},29953:(e,t,a)=>{},30650:(e,t,a)=>{a.d(t,{I3:()=>n,I8:()=>o,O$:()=>_,__:()=>s,pl:()=>l,vm:()=>i,x7:()=>r});let n=["Basic","Standard","Professional","Unlimited"],r=["monthly","quarterly","yearly"],i={UPGRADE:"upgrade",DOWNGRADE:"downgrade"},_=["Basic","Standard","Professional","Unlimited"],o={DEFAULT:"Choose a plan that fits your needs",INSUFFICIENT_TOKENS:"Upgrade to continue creating!",PREMIUM_MODEL_NOT_ALLOWED:"Unlock premium features and continue creating"},s=12,l=3},35044:(e,t,a)=>{a.d(t,{$J:()=>r,Cm:()=>m,En:()=>l,Uf:()=>C,Ve:()=>i,ek:()=>E,hI:()=>_,l9:()=>L,xK:()=>P,yU:()=>h,zE:()=>g});var n=a(79536);let r=e=>n.Ik({result:e});n.Ik({}).loose();let i=n.k5(["imagine"]),_=n.k5(["IMAGINE_ANDROID","IMAGINE_IOS","IMAGINE_WEB","IMAGINE_ALL","IMAGINE","COMMERCIAL","ALL"]),o=n.k5(["active","past_due","unpaid","canceled","incomplete","incomplete_expired","trialing","paused"]),s=n.k5(["active","pending_upgrade","pending_downgrade","pending_cancellation"]),l=n.k5(["Free","Basic","Standard","Professional","Premium","Unlimited","Custom","Enterprise","Imagine Tokens TopUp","Imagine Tokens Topup"]),u=n.k5(["Free"]);n.KC([l,u]);let c=n.k5(["weekly","monthly","quarterly","yearly","one_time"]);n.k5(["WEB","ANDROID"]);let p=n.Ik({name:l,productType:n.Yj(),validPlatform:_,vyroClientId:n.Yj()});n.Ik({maxQuantity:n.ai(),unitAmount:n.ai()});let d=n.Ik({id:n.ai(),name:l.optional(),priceDetails:n.Yj(),tokens:n.ai().optional(),maxQuantity:n.ai().optional(),minQuantity:n.ai().optional(),stripePriceId:n.Yj(),price:n.ai(),billingInterval:c,currency:n.Yj(),StripeProduct:p.optional(),isLegacy:n.zM().optional()}),m=n.Ik({id:n.ai(),name:l,stripeProductId:n.Yj(),StripePrice:n.YO(d),productType:n.Yj(),validPlatform:_,vyroClientId:n.Yj()}),I=n.Ik({id:n.ai(),userId:n.Yj(),invoiceStatus:o,currentStatus:s.nullable().optional(),newPriceId:n.ai().nullable().optional(),startDate:n.Yj(),endDate:n.Yj(),StripePrice:d,quantity:n.ai().optional()}),g=n.Ik({isActive:n.zM(),validPlatform:n.YO(_).nullable().optional(),stripe:I.nullable(),country:n.Yj().nullable().optional()}),E=n.Ik({customerId:n.Yj(),chargeId:n.Yj(),monthly:n.zM().optional(),billingInterval:c,email:n.Yj(),isDowngrade:n.zM(),isUpgrade:n.zM(),plan:l,price:n.ai(),tokens:n.ai(),paidPrice:n.ai(),discountPercentage:n.ai(),coupon:n.Yj().optional(),tax:n.ai()}),P=n.Ik({message:n.Yj(),url:n.Yj()}),T=n.Ik({billingInterval:n.Yj(),plan:n.Yj(),price:n.ai(),tokens:n.ai()}),U=n.Ik({customerId:n.Yj().optional(),email:n.Yj().optional(),isDowngrade:n.zM(),isUpgrade:n.zM(),newPrice:T,oldPrice:T,userId:n.Yj()}),C=n.Ik({data:U}),A=n.Ik({userId:n.Yj()}),h=n.Ik({message:n.Yj(),data:A}),L=n.Ik({amount:n.ai(),currency:n.Yj(),tax:n.ai()})},48164:(e,t,a)=>{a.d(t,{d:()=>r});var n=a(83972);let r=function(e){let{request:t=!0,response:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&e.interceptors.request.use(n.q3),a&&e.interceptors.response.use(n.KR),e}},52948:(e,t,a)=>{a.d(t,{Ko:()=>v,O4:()=>R,_Z:()=>w,Fe:()=>O,lM:()=>f,RW:()=>y,Yu:()=>h,XE:()=>S,aR:()=>L,V_:()=>N,vY:()=>B});var n=a(67933),r=a(16258),i=a(7834),_=a.n(i),o=a(64836),s=a.n(o),l=a(59369),u=a.n(l),c=a(37457),p=a.n(c),d=a(30650),m=a(27338),I=a(60095),g=a(81574),E=a(82806);a(5211);var P=a(178);a(29953);var T=a(17643);let U=()=>{var e;return(e=>{var t,a;let{existingCountry:n,isDevDeployment:r,isStagingDeployment:i,getCookie:_}=e,o=null!=(t=_(P.e.COUNTRY_CODE))?t:"US",s=_(P.e.COUNTRY_OVERRIDE);return r||i?null!=(a=null!=s?s:n)?a:o:null!=n?n:o})({existingCountry:null==(e=L().data)?void 0:e.subscription.country,isDevDeployment:!T.h.NEXT_PUBLIC_IS_PROD,isStagingDeployment:!T.h.NEXT_PUBLIC_IS_PROD,getCookie:E.getCookie})};var C=a(7620),A=a(80293);let h=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=U();return(0,n.I)({queryFn:async()=>{let e=(await g.M.getSubscriptions({requestOptions:{params:{country:t,product:"imagine"}}})).data.flatMap(e=>e.StripePrice.map(t=>({...e,StripePrice:[t]}))),a=_()(e,e=>{var t;return null==(t=e.StripePrice[0])?void 0:t.billingInterval}),n=s()(a,e=>p()(e,e=>{let t=d.I3.indexOf(e.name);return -1===t?d.I3.length:t}));return u()(n,d.x7)},queryKey:[A.D.SUBSCRIPTION_PACKAGES],enabled:e,staleTime:m.HZ})},L=()=>{let{user:e}=(0,I.u)();return(0,n.I)({queryFn:async()=>(await g.M.getUserSubscription({param:{product:"imagine"}})).data,queryKey:[A.D.USER_SUBSCRIPTION],staleTime:m.HZ,enabled:!!e})},y=()=>(0,r.n)({mutationFn:async e=>(await g.M.expireCheckoutSession({checkoutSessionId:e})).data}),N=e=>{let{product:t}=e;return(0,r.n)({mutationFn:async()=>(await g.M.goToStripeBilling({param:{product:t}})).data})},R=e=>{let{product:t}=e;return(0,r.n)({mutationFn:async()=>(await g.M.cancelPendingUpdate({param:{product:t}})).data})},O=e=>{let{product:t,successUrl:a,cancelUrl:n}=e,i=U(),_=(()=>{var e;let[t,a]=(0,C.useState)(null==(e=window.growi)?void 0:e.affiliate_code);return(0,C.useEffect)(()=>{let e=()=>{var e;a(null==(e=window.growi)?void 0:e.affiliate_code)};return window.addEventListener("affiliateCodeChange",e),()=>{window.removeEventListener("affiliateCodeChange",e)}},[]),t})();return(0,r.n)({mutationFn:async e=>{let{priceId:r,coupon:o}=e;return(await g.M.checkoutToPayment({priceId:r,country:i,coupon:null!=o?o:"",product:t,successUrl:a,cancelUrl:n,growiAffiliateCode:_})).data}})},v=e=>{let{product:t,priceId:a,enabled:r}=e,i=U();return(0,n.I)({queryKey:[A.D.CALCULATE_PRORATION,a,i,t],queryFn:async()=>(await g.M.calculateProration({priceId:null!=a?a:"",requestOptions:{params:{country:i,product:t}}})).data,enabled:!!a&&r})},w=e=>{let{product:t}=e;return(0,r.n)({mutationFn:async e=>(await g.M.changePlanTo({payload:e,param:{product:t}})).data})},B=e=>{let{product:t}=e;return(0,r.n)({mutationFn:async e=>(await g.M.upgradePlanImmediately({payload:e,param:{product:t}})).data})},S=e=>{let{product:t,enabled:a}=e,r=U();return(0,n.I)({queryKey:[A.D.TOP_UPS,t,r],queryFn:async()=>(await g.M.getTopUps({requestOptions:{params:{country:r,product:t}}})).data,enabled:a,staleTime:m.HZ})},f=e=>{let{product:t,successUrl:a,cancelUrl:n}=e,i=U();return(0,r.n)({mutationFn:async e=>(await g.M.checkoutToTopUp({priceId:e,country:i,product:t,successUrl:a,cancelUrl:n})).data})}},59051:(e,t,a)=>{a.d(t,{b:()=>_});var n=a(25826),r=a(14359);class i extends r.e{constructor(e){super(e)}}let _=(e,t,a)=>{let r=e.safeParse(t);if(r.success)return r.data;let _=n.Ay$.prettifyError(r.error);if(console.log("ZOD DATA:",t),console.error("ZOD ERROR:",_),a)return a;throw new i(_)}},62384:(e,t,a)=>{a.d(t,{u:()=>n});let n={REDIRECT:"redirect",SHOW_AUTH:"showAuth",REFERRAL:"referral",PRODUCT:"product",SUBSCRIPTION_MODAL:"subscriptionModal",CHECKOUT_SESSION_ID:"session_id",PRICE_ID:"price_id",SUBSCRIPTION_ACTION:"subscription_action",TOP_UP_MODAL_OPEN:"top_up_modal_open",PRODUCT_ID:"product",SECRET_TOKEN:"secret",OPEN:"open",EMAIL:"email",REFERRAL_CODE:"referralCode"}},80293:(e,t,a)=>{a.d(t,{D:()=>n});let n={SUBSCRIPTION_PACKAGES:"subscription-packages",USER_SUBSCRIPTION:"user-subscription",CALCULATE_PRORATION:"calculate-proration",TOP_UPS:"top-ups"}},81574:(e,t,a)=>{a.d(t,{M:()=>C,B:()=>U});var n=a(89329),r=a(59051),i=a(35044);let _=(0,i.$J)(i.l9),o=(0,i.$J)(i.yU),s=(0,i.$J)(i.Uf),l=(0,i.$J)(i.xK),u=(0,i.$J)(i.xK),c=(0,i.$J)(i.ek);var p=a(79536);let d=(0,i.$J)(p.YO(i.Cm)),m=(0,i.$J)(p.YO(i.Cm)),I=(0,i.$J)(p.Ik({subscription:i.zE})),g=(0,i.$J)(i.xK),E=(0,i.$J)(i.Uf);class P{async getSubscriptions(){let{requestOptions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this._client.get("".concat(this._serviceBaseURL,"/recurring"),null!=e?e:void 0),a=(e=>{let{result:t}=e;return t})((0,r.b)(d,t.data));return{...t,data:a}}async getTopUps(){let{requestOptions:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this._client.get("".concat(this._serviceBaseURL,"/one_time"),null!=e?e:void 0),a=(e=>{let{result:t}=e;return t})((0,r.b)(m,t.data));return{...t,data:a}}async changePlanTo(e){let{payload:t,param:a}=e,n=await this._client.post("".concat(this._serviceBaseURL,"/update/next-period"),t,{params:a}),i=(e=>{let{result:t}=e;return t.data})((0,r.b)(s,n.data));return{...n,data:i}}async upgradePlanImmediately(e){let{payload:t,param:a}=e,n=await this._client.post("".concat(this._serviceBaseURL,"/update/immediately"),t,{params:a}),i=(e=>{let{result:t}=e;return t.data})((0,r.b)(E,n.data));return{...n,data:i}}async calculateProration(e){var t;let{priceId:a,requestOptions:n}=e,i=await this._client.get("".concat(this._serviceBaseURL,"/proration/").concat(a),{...null!=n?n:{},params:{...null!=(t=null==n?void 0:n.params)?t:{},isCurrency:"".concat(!0)}}),o=(e=>{let{result:t}=e;return t})((0,r.b)(_,i.data));return{...i,data:o}}async expireCheckoutSession(e){let{checkoutSessionId:t}=e,a=await this._client.post("".concat(this._serviceBaseURL,"/session-expire"),{checkoutSessionId:t}),n=(e=>{let{result:t}=e;return t})((0,r.b)(c,a.data));return{...a,data:n}}async checkoutToPayment(e){let{priceId:t,country:a,coupon:n,product:i,successUrl:_,cancelUrl:o,growiAffiliateCode:s}=e,u={priceId:t,quantity:"1",country:a,product:i,successUrl:_,cancelUrl:o};n&&(u.coupon=n),s&&(u.growiAffiliateCode=s);let c=await this._client.post("".concat(this._serviceBaseURL,"/checkout"),null,{params:u}),p=(e=>{let{result:t}=e;return t})((0,r.b)(l,c.data));return{...c,data:p}}async checkoutToTopUp(e){let{priceId:t,country:a,product:n,successUrl:i,cancelUrl:_}=e,o={priceId:t,quantity:encodeURIComponent(1),country:a,product:n,successUrl:i,cancelUrl:_},s=await this._client.post("".concat(this._serviceBaseURL,"/checkout/top-up"),null,{params:o}),l=(e=>{let{result:t}=e;return t})((0,r.b)(u,s.data));return{...s,data:l}}async goToStripeBilling(e){let{param:t}=e,a=await this._client.post("".concat(this._serviceBaseURL,"/billing-portal"),null,{params:t}),n=(e=>{let{result:t}=e;return t})((0,r.b)(g,a.data));return{...a,data:n}}async getUserSubscription(e){let{param:t,requestOptions:a,headers:n}=e,i=await this._client.get("/subscription/user",{...null!=a?a:{},params:{...t},headers:n}),_=(e=>{let{result:t}=e;return t})((0,r.b)(I,i.data));return{...i,data:_}}async cancelPendingUpdate(e){let{param:t}=e,a=await this._client.post("".concat(this._serviceBaseURL,"/cancel/update/next-period"),null,{params:t}),n=(e=>{let{result:t}=e;return t.data})((0,r.b)(o,a.data));return{...a,data:n}}constructor({client:e}){this._serviceBaseURL="/stripe/subscription",this._client=e}}var T=a(17643);let U=(0,a(48164).d)(n.A.create({baseURL:T.h.NEXT_PUBLIC_PAYMENT_API_URL})),C=new P({client:U})},97788:(e,t,a)=>{a.d(t,{u:()=>r});var n=a(17307);class r extends n.y{log(e){this.analytics.forEach(t=>t.log(e))}constructor(e){super(),this.analytics=e}}},99588:(e,t,a)=>{a.d(t,{B:()=>o,p:()=>s});var n=a(54568),r=a(7620),i=a(97788);let _=(0,r.createContext)(null),o=e=>{let{children:t,aggregator:a,isAggregatorReady:o}=e,s=(0,r.useRef)([]),[l]=(0,r.useState)(()=>new i.u([]));l.log=e=>{o?a.log(e):s.current.push(e)},(0,r.useEffect)(()=>{o&&(s.current.forEach(e=>a.log(e)),s.current=[])},[o,a]);let u=(0,r.useMemo)(()=>({aggregator:l,isAggregatorReady:o}),[l,o]);return(0,n.jsx)(_.Provider,{value:u,children:t})},s=()=>{let e=(0,r.useContext)(_);if(!e)throw Error("useAnalyticsContext must be used within a AnalyticsContextProvider");return e}}}]);